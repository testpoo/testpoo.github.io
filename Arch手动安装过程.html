<!doctype html>
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>测试铺</title>
    <link rel="stylesheet" type="text/css" href="https://testpoo.github.io/themes/css/style.css">
    <link rel="stylesheet" type="text/css" href="https://testpoo.github.io/themes/css/xui.css">
    <link rel="stylesheet" type="text/css" href="https://testpoo.github.io/themes/css/markdown.css">
    <link rel="shortcut icon" type="image/ico" href="https://testpoo.github.io/themes/img/favicon.ico">
  </head>

  <body>
    <div class="sider">
      <div class="categories">
        <div class="title">
          <a href="https://testpoo.github.io">
            <img src="https://testpoo.github.io/themes/img/title.jpg">
            <div class="linkbutton testpoo">测试铺</div>
          </a>
        </div>
        <div class="scrollheight">
          <ul>
            
            <li><a href="https://testpoo.github.io/Arch通过archinstall安装过程.html"><label style="color: #ffba48"></label>&nbsp;linux</a></li>
            
            <li><a href="https://testpoo.github.io/Jinja2简介.html"><label style="color: #ffba48"></label>&nbsp;python</a></li>
            
            <li><a href="https://testpoo.github.io/go测试库apitest简介.html"><label style="color: #ffba48"></label>&nbsp;go</a></li>
            
            <li><a href="https://testpoo.github.io/debian+openbox+tint2安装过程.html"><label style="color: #ffba48"></label>&nbsp;debian</a></li>
            
            <li><a href="https://testpoo.github.io/面试问答.html"><label style="color: #ffba48"></label>&nbsp;笔记</a></li>
            
            <li><a href="https://testpoo.github.io/常用链接.html"><label style="color: #ffba48"></label>&nbsp;常用链接</a></li>
            
            <li><a href="https://testpoo.github.io/mysql函数汇总.html"><label style="color: #ffba48"></label>&nbsp;mysql</a></li>
            
            <li><a href="https://testpoo.github.io/问题解决.html"><label style="color: #ffba48"></label>&nbsp;问题解决</a></li>
            
          </ul>
        </div>
        <div class="github"><a href="https://github.com/testpoo" target="_blank" title="GitHub:TestPoo"></a><a href="#" title="微信号：puyaweis"></a><a href="#" title="邮箱：pu_yawei@qq.com"></a><a href="https://testpoo.github.io/rss.xml" target="_blank"></a></div>
      </div>
      <div class="articles">
        <div class="category">分类：linux</div>
        <div class="scrollheight">
          <ul>
            
            <li><a href="https://testpoo.github.io/Arch通过archinstall安装过程.html"><span><label style="color: #38b6fd"></label>&nbsp;Arch通过archinstall安装过程</span><span>2024-06-15&nbsp;&nbsp;共3299个字</span></a></li>
            
            <li><a href="https://testpoo.github.io/shell三剑客简介.html"><span><label style="color: #38b6fd"></label>&nbsp;shell三剑客简介</span><span>2024-02-29&nbsp;&nbsp;共18477个字</span></a></li>
            
            <li><a href="https://testpoo.github.io/Arch手动安装过程.html"><span><label style="color: #38b6fd"></label>&nbsp;Arch手动安装过程</span><span>2023-06-30&nbsp;&nbsp;共4575个字</span></a></li>
            
            <li><a href="https://testpoo.github.io/shell简介.html"><span><label style="color: #38b6fd"></label>&nbsp;shell简介</span><span>2022-04-18&nbsp;&nbsp;共14941个字</span></a></li>
            
          </ul>
        </div>
        <div class="item-num">总共4项</div>
      </div>
    </div>
    <div class="main">
      <div class="header"><span>Arch手动安装过程</span><span>一个80后老人，专注测试领域<br />最后更新于2024-06-19 09:17:16</span></div>
      <input class="xswitch xonoff" type="checkbox" id="catalog">
      <div class="posts"><div class="toc">
<ul>
<li><a href="#1">1.连接网络</a></li>
<li><a href="#2">2.更新系统时间</a></li>
<li><a href="#3">3.建立硬盘分区</a></li>
<li><a href="#4">4.格式化分区</a></li>
<li><a href="#5">5.挂载分区</a></li>
<li><a href="#6">6.安装必需的软件包</a></li>
<li><a href="#7">7.配置系统</a></li>
<li><a href="#8">8.本地化</a></li>
<li><a href="#9">9.网络配置</a></li>
<li><a href="#10root">10.修改root密码</a></li>
<li><a href="#11">11.安装引导程序</a></li>
<li><a href="#12">12.创建用户</a></li>
<li><a href="#6-wm">6. 安装桌面/WM</a><ul>
<li><a href="#61-openbox">6.1 安装openbox</a></li>
<li><a href="#62-deepin">6.2 安装deepin</a></li>
<li><a href="#63-xfce4">6.3 安装xfce4</a></li>
</ul>
</li>
<li><a href="#7_1">7 网络问题</a></li>
<li><a href="#8-nm">8. nm连接网络命令</a></li>
</ul>
</div>
<h3 id="1">1.连接网络</h3>
<pre class="codehilite"><code>#iwctl
[iwd]# device list
[iwd]# station [device] scan
[iwd]# station [device] get-networks
[iwd]# station [device] connect [SSID]
</code></pre>

<h3 id="2">2.更新系统时间</h3>
<pre class="codehilite"><code># timedatectl set-ntp true 
</code></pre>

<h3 id="3">3.建立硬盘分区</h3>
<pre class="codehilite"><code># fdisk -l
# cfdisk /dev/sda
</code></pre>

<h3 id="4">4.格式化分区</h3>
<pre class="codehilite"><code># mkfs.fat -F 32 /dev/sda1   --boot分区
# mkfs.ext4 /dev/sda2  --根分区
# mkswap /dev/sda3  --交换空间分区
</code></pre>

<h3 id="5">5.挂载分区</h3>
<pre class="codehilite"><code>mount /dev/sda2 /mnt
mkdir /mnt/boot
mount /dev/sda1 /mnt/boot
swapon /dev/sda3
</code></pre>

<h3 id="6">6.安装必需的软件包</h3>
<pre class="codehilite"><code># 换源：reflector -c China -a 6 --sort rate --save /etc/pacman.d/mirrorlist
# 检查硬盘：lsblk
# 安装系统：pacstrap /mnt base linux linux-firmware
</code></pre>

<h3 id="7">7.配置系统</h3>
<pre class="codehilite"><code># 生成 fstab 文件: genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
# 切换到新系统: arch-chroot /mnt
# 修改时区: ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
# 时间同步: hwclock --systohc
</code></pre>

<h3 id="8">8.本地化</h3>
<ul>
<li>编辑 /etc/locale.gen，然后取消掉 en_US.UTF-8 UTF-8, zh_CN.UTF-8 UTF-8前面的<code>#</code>号</li>
<li>然后执行 <code>locale-gen</code></li>
<li>然后创建/etc/locale.conf,添加LANG=en_US.UTF-8,中文需要zh_CN.UTF-8</li>
</ul>
<h3 id="9">9.网络配置</h3>
<pre class="codehilite"><code># /etc/hosts添加以下内容
/etc/hostname  arch
/etc/hosts
127.0.0.1 localhost
::1       localhost
127.0.0.1 arch.localdomain arch
</code></pre>

<h3 id="10root">10.修改root密码</h3>
<pre class="codehilite"><code># passwd
</code></pre>

<h3 id="11">11.安装引导程序</h3>
<pre class="codehilite"><code># pacman -S grub efibootmgr
# grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB
# grub-mkconfig -o /boot/grub/grub.cfg
</code></pre>

<h3 id="12">12.创建用户</h3>
<pre class="codehilite"><code># useradd -m -G wheel poo
# useradd poo
# passwd poo
</code></pre>

<h3 id="6-wm">6. 安装桌面/WM</h3>
<h4 id="61-openbox">6.1 安装openbox</h4>
<pre class="codehilite"><code>pacman -S xorg-xinit install openbox obconf tint2 sakura pcmanfm ristretto fcitx-rime librime-data-wubi lxappearance xarchiver pulseaudio blueman sudo git intel-microcode fonts-noto-cjk slock light jgmenu chromium chromium-l10n webext-ublock-origin-chromium
</code></pre>

<h4 id="62-deepin">6.2 安装deepin</h4>
<pre class="codehilite"><code>pacman -S xorg-server lightdm networkmanager deepin deepin-extra
systemctl enable lightdm
systemctl enable NetworkManager
</code></pre>

<h4 id="63-xfce4">6.3 安装xfce4</h4>
<pre class="codehilite"><code>pacman -S xfce4 xfce4-goodies nano sudo lightdm lightdm-gtk-greeter networkmanager xf86-video-intel network-manager-applet alsa-utils pulseaudio pulseaudio-alsa pavucontrol

声音问题
sudo pacman -S alsa-utils
sudo pacman -S pulseaudio
sudo pacman -S pulseaudio-alsa
sudo pacman -S pavucontrol      #与xfce4 panel里面的插件配合使用,必须要有这个进程
</code></pre>

<h3 id="7_1">7 网络问题</h3>
<pre class="codehilite"><code># 安装nm: pacman -S networkmanager
# 安装nm图形界面: nm-connection-editor
# 安装nm系统托盘图标: network-manager-applet（nm-applet）
# 开机启动nm: systemctl enable NetworkManager
</code></pre>

<h3 id="8-nm">8. nm连接网络命令</h3>
<pre class="codehilite"><code>nmcli 示例
显示附近的 Wi-Fi 网络：

$ nmcli device wifi list
连接到 Wi-Fi 网络：

$ nmcli device wifi connect SSID_或_BSSID password 密码
连接到隐藏的 Wi-Fi 网络：

$ nmcli device wifi connect SSID_或_BSSID password 密码 hidden yes
连接到 wlan1 网络接口上的 Wi-Fi：

$ nmcli device wifi connect SSID_或_BSSID password 密码 ifname wlan1 profile_name
断开网络接口上的连接：

$ nmcli device disconnect ifname eth0
显示连接列表及其名称、UUID、类型和支持设备：

$ nmcli connection show
激活连接（即使用现有配置文件连接到网络）：

$ nmcli connection up name_或_uuid
删除连接：

$ nmcli connection delete name_或_uuid
显示所有网络设备及其状态：

$ nmcli device
关闭 Wi-Fi：

$ nmcli radio wifi off
</code></pre></div>
    </div>
    <input class="xswitch xonoff" type="checkbox" id="nvacatalog">
    <div class="nav">
      <ul>
        
        <li><a href="https://testpoo.github.io/Arch通过archinstall安装过程.html"><span><label style="color: #38b6fd"></label>&nbsp;Arch通过archinstall安装过程</span></a></li>
        
        <li><a href="https://testpoo.github.io/Jinja2简介.html"><span><label style="color: #38b6fd"></label>&nbsp;Jinja2简介</span></a></li>
        
        <li><a href="https://testpoo.github.io/shell三剑客简介.html"><span><label style="color: #38b6fd"></label>&nbsp;shell三剑客简介</span></a></li>
        
        <li><a href="https://testpoo.github.io/Python造假数据神器Faker.html"><span><label style="color: #38b6fd"></label>&nbsp;Python造假数据神器Faker</span></a></li>
        
        <li><a href="https://testpoo.github.io/FastApi简析.html"><span><label style="color: #38b6fd"></label>&nbsp;FastApi简析</span></a></li>
        
        <li><a href="https://testpoo.github.io/go测试库apitest简介.html"><span><label style="color: #38b6fd"></label>&nbsp;go测试库apitest简介</span></a></li>
        
        <li><a href="https://testpoo.github.io/go入门.html"><span><label style="color: #38b6fd"></label>&nbsp;go入门</span></a></li>
        
        <li><a href="https://testpoo.github.io/Arch手动安装过程.html"><span><label style="color: #38b6fd"></label>&nbsp;Arch手动安装过程</span></a></li>
        
        <li><a href="https://testpoo.github.io/BeautifulSoup简介.html"><span><label style="color: #38b6fd"></label>&nbsp;BeautifulSoup简介</span></a></li>
        
        <li><a href="https://testpoo.github.io/tkinter教程.html"><span><label style="color: #38b6fd"></label>&nbsp;tkinter教程</span></a></li>
        
        <li><a href="https://testpoo.github.io/debian+openbox+tint2安装过程.html"><span><label style="color: #38b6fd"></label>&nbsp;debian+openbox+tint2安装过程</span></a></li>
        
        <li><a href="https://testpoo.github.io/面试问答.html"><span><label style="color: #38b6fd"></label>&nbsp;面试问答</span></a></li>
        
        <li><a href="https://testpoo.github.io/UI自动化测试神器-Cypress.html"><span><label style="color: #38b6fd"></label>&nbsp;UI自动化测试神器-Cypress</span></a></li>
        
        <li><a href="https://testpoo.github.io/如何用自动化测试搞垮团队.html"><span><label style="color: #38b6fd"></label>&nbsp;如何用自动化测试搞垮团队</span></a></li>
        
        <li><a href="https://testpoo.github.io/常用链接.html"><span><label style="color: #38b6fd"></label>&nbsp;常用链接</span></a></li>
        
        <li><a href="https://testpoo.github.io/mysql函数汇总.html"><span><label style="color: #38b6fd"></label>&nbsp;mysql函数汇总</span></a></li>
        
        <li><a href="https://testpoo.github.io/shell简介.html"><span><label style="color: #38b6fd"></label>&nbsp;shell简介</span></a></li>
        
        <li><a href="https://testpoo.github.io/Docker入门教程.html"><span><label style="color: #38b6fd"></label>&nbsp;Docker入门教程</span></a></li>
        
        <li><a href="https://testpoo.github.io/性能监控各指令详解.html"><span><label style="color: #38b6fd"></label>&nbsp;性能监控各指令详解</span></a></li>
        
        <li><a href="https://testpoo.github.io/Python进阶.html"><span><label style="color: #38b6fd"></label>&nbsp;Python进阶</span></a></li>
        
        <li><a href="https://testpoo.github.io/Git简介.html"><span><label style="color: #38b6fd"></label>&nbsp;Git简介</span></a></li>
        
        <li><a href="https://testpoo.github.io/Python正则表达式.html"><span><label style="color: #38b6fd"></label>&nbsp;Python正则表达式</span></a></li>
        
        <li><a href="https://testpoo.github.io/nose简介.html"><span><label style="color: #38b6fd"></label>&nbsp;nose简介</span></a></li>
        
        <li><a href="https://testpoo.github.io/debian+kde设置.html"><span><label style="color: #38b6fd"></label>&nbsp;debian+kde设置</span></a></li>
        
        <li><a href="https://testpoo.github.io/debian+xfce设置.html"><span><label style="color: #38b6fd"></label>&nbsp;debian+xfce设置</span></a></li>
        
        <li><a href="https://testpoo.github.io/Python自动化之unittest.html"><span><label style="color: #38b6fd"></label>&nbsp;Python自动化之unittest</span></a></li>
        
        <li><a href="https://testpoo.github.io/debian+gnome设置.html"><span><label style="color: #38b6fd"></label>&nbsp;debian+gnome设置</span></a></li>
        
        <li><a href="https://testpoo.github.io/debian+i3安装过程.html"><span><label style="color: #38b6fd"></label>&nbsp;debian+i3安装过程</span></a></li>
        
        <li><a href="https://testpoo.github.io/mysql的安装.html"><span><label style="color: #38b6fd"></label>&nbsp;mysql的安装</span></a></li>
        
        <li><a href="https://testpoo.github.io/问题解决.html"><span><label style="color: #38b6fd"></label>&nbsp;问题解决</span></a></li>
        
        <li><a href="https://testpoo.github.io/分分种学会python3.html"><span><label style="color: #38b6fd"></label>&nbsp;分分种学会python3</span></a></li>
        
        <li><a href="https://testpoo.github.io/Markdown笔记.html"><span><label style="color: #38b6fd"></label>&nbsp;Markdown笔记</span></a></li>
        
        <li><a href="https://testpoo.github.io/Linux下SVN服务器的搭建.html"><span><label style="color: #38b6fd"></label>&nbsp;Linux下SVN服务器的搭建</span></a></li>
        
        <li><a href="https://testpoo.github.io/Debain通用设置.html"><span><label style="color: #38b6fd"></label>&nbsp;Debain通用设置</span></a></li>
        
        <li><a href="https://testpoo.github.io/mysql笔记.html"><span><label style="color: #38b6fd"></label>&nbsp;mysql笔记</span></a></li>
        
        <li><a href="https://testpoo.github.io/python标准异常.html"><span><label style="color: #38b6fd"></label>&nbsp;python标准异常</span></a></li>
        
        <li><a href="https://testpoo.github.io/svn命令全解.html"><span><label style="color: #38b6fd"></label>&nbsp;svn命令全解</span></a></li>
        
        <li><a href="https://testpoo.github.io/debian命令apt和dpkg用法.html"><span><label style="color: #38b6fd"></label>&nbsp;debian命令apt和dpkg用法</span></a></li>
        
        <li><a href="https://testpoo.github.io/关于我.html"><span><label style="color: #38b6fd"></label>&nbsp;关于我</span></a></li>
        
      </ul>
    </div>
  </body>

  </html>