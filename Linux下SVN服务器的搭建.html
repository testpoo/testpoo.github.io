<!doctype html>
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>测试铺</title>
    <link rel="stylesheet" type="text/css" href="https://testpoo.github.io/themes/css/style.css">
    <link rel="stylesheet" type="text/css" href="https://testpoo.github.io/themes/css/xui.css">
    <link rel="stylesheet" type="text/css" href="https://testpoo.github.io/themes/css/markdown.css">
    <link rel="shortcut icon" type="image/ico" href="https://testpoo.github.io/themes/img/favicon.ico">
  </head>

  <body>
    <div class="sider">
      <div class="categories">
        <div class="title">
          <a href="https://testpoo.github.io">
            <img src="https://testpoo.github.io/themes/img/title.jpg">
            <div class="linkbutton testpoo">测试铺</div>
          </a>
        </div>
        <div class="scrollheight">
          <ul>
            
            <li><a href="https://testpoo.github.io/常用链接.html"><label style="color: #ffba48"></label>&nbsp;常用链接</a></li>
            
            <li><a href="https://testpoo.github.io/mysql函数汇总.html"><label style="color: #ffba48"></label>&nbsp;mysql</a></li>
            
            <li><a href="https://testpoo.github.io/shell简介.html"><label style="color: #ffba48"></label>&nbsp;linux</a></li>
            
            <li><a href="https://testpoo.github.io/Docker入门教程.html"><label style="color: #ffba48"></label>&nbsp;笔记</a></li>
            
            <li><a href="https://testpoo.github.io/Python进阶.html"><label style="color: #ffba48"></label>&nbsp;python</a></li>
            
            <li><a href="https://testpoo.github.io/debian+xfce安装过程.html"><label style="color: #ffba48"></label>&nbsp;debian</a></li>
            
          </ul>
        </div>
        <div class="github"><a href="https://github.com/testpoo" target="_blank" title="GitHub:TestPoo"></a><a href="#" title="微信号：puyaweis"></a><a href="#" title="邮箱：pu_yawei@qq.com"></a><a href="https://testpoo.github.io/rss.xml" target="_blank"></a></div>
      </div>
      <div class="articles">
        <div class="category">分类：笔记</div>
        <div class="scrollheight">
          <ul>
            
            <li><a href="https://testpoo.github.io/Docker入门教程.html"><span><label style="color: #38b6fd"></label>&nbsp;Docker入门教程</span><span>2022-03-02&nbsp;&nbsp;共18641个字</span></a></li>
            
            <li><a href="https://testpoo.github.io/性能监控各指令详解.html"><span><label style="color: #38b6fd"></label>&nbsp;性能监控各指令详解</span><span>2021-12-22&nbsp;&nbsp;共102613个字</span></a></li>
            
            <li><a href="https://testpoo.github.io/Git简介.html"><span><label style="color: #38b6fd"></label>&nbsp;Git简介</span><span>2021-09-15&nbsp;&nbsp;共39809个字</span></a></li>
            
            <li><a href="https://testpoo.github.io/Markdown笔记.html"><span><label style="color: #38b6fd"></label>&nbsp;Markdown笔记</span><span>2020-04-03&nbsp;&nbsp;共14659个字</span></a></li>
            
            <li><a href="https://testpoo.github.io/SQLite基本操作.html"><span><label style="color: #38b6fd"></label>&nbsp;SQLite基本操作</span><span>2020-01-02&nbsp;&nbsp;共1027个字</span></a></li>
            
            <li><a href="https://testpoo.github.io/Linux下SVN服务器的搭建.html"><span><label style="color: #38b6fd"></label>&nbsp;Linux下SVN服务器的搭建</span><span>2020-01-01&nbsp;&nbsp;共63734个字</span></a></li>
            
            <li><a href="https://testpoo.github.io/svn命令全解.html"><span><label style="color: #38b6fd"></label>&nbsp;svn命令全解</span><span>2019-10-11&nbsp;&nbsp;共7058个字</span></a></li>
            
            <li><a href="https://testpoo.github.io/关于我.html"><span><label style="color: #38b6fd"></label>&nbsp;关于我</span><span>1999-12-31&nbsp;&nbsp;共1545个字</span></a></li>
            
          </ul>
        </div>
        <div class="item-num">总共8项</div>
      </div>
    </div>
    <div class="main">
      <div class="header"><span>Linux下SVN服务器的搭建</span><span>一个80后老人，专注测试领域<br />最后编辑于2022-05-10 10:16:23</span></div>
      <input class="xswitch xonoff" type="checkbox" id="catalog">
      <div class="posts"><div class="toc">
<ul>
<li><a href="#ubuntusvn">Ubuntu下SVN服务器的配置及搭建</a><ul>
<li><a href="#svn">检查是否安装SVN</a></li>
<li><a href="#svnsvn">配置svn并启动svn服务</a></li>
<li><a href="#svn_1">检测svn服务是否正常启动</a></li>
<li><a href="#svnadminsvn">使用svnadmin建立svn项目版本库</a></li>
<li><a href="#testdoc">配置testdoc版本可的权限</a></li>
<li><a href="#svn_2">为Svn版本库创建用户并授权访问指定项目版本库</a></li>
<li><a href="#svn_3">重新启动svn服务进行验证</a></li>
</ul>
</li>
</ul>
</div>
<h3 id="ubuntusvn">Ubuntu下SVN服务器的配置及搭建</h3>
<p>SVN是Subversion的简称，是一个开放源代码的版本控制系统，相较于RCS、CVS，它采用了分支管理系统，它的设计目标就是取代CVS。互联网上很多版本控制服务已从CVS迁移到Subversion。说得简单一点SVN就是用于多个人共同开发同一个项目，共用资源的目的。</p>
<h4 id="svn">检查是否安装SVN</h4>
<div class="codehilite"><pre><span></span><code>dpkg --get-selections|grep &#39;subversion&#39;
</code></pre></div>

<p>如果安装了，会有如下提示</p>
<div class="codehilite"><pre><span></span><code><span class="n">root</span><span class="nv">@ubuntu</span><span class="err">:</span><span class="o">~</span><span class="err">$</span><span class="w"> </span><span class="n">dpkg</span><span class="w"> </span><span class="o">--</span><span class="k">get</span><span class="o">-</span><span class="n">selections</span><span class="o">|</span><span class="n">grep</span><span class="w"> </span><span class="s1">&#39;subversion&#39;</span><span class="w"></span>
<span class="n">subversion</span><span class="w">                                      </span><span class="n">install</span><span class="w"></span>
</code></pre></div>

<p>如果没有安装，使用以下命令安装</p>
<div class="codehilite"><pre><span></span><code>apt install subversion
</code></pre></div>

<h4 id="svnsvn">配置svn并启动svn服务</h4>
<p>可以使用svnserve --help查看启动帮助</p>
<div class="codehilite"><pre><span></span><code><span class="n">root</span><span class="nv">@ubuntu</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="n">svnserve</span><span class="w"> </span><span class="o">--</span><span class="n">help</span><span class="w"></span>
<span class="k">usage</span><span class="err">:</span><span class="w"> </span><span class="n">svnserve</span><span class="w"> </span><span class="o">[</span><span class="n">-d | -i | -t | -X</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">options</span><span class="o">]</span><span class="w"></span>
<span class="n">Subversion</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="n">server</span><span class="p">.</span><span class="w"></span>
<span class="n">Type</span><span class="w"> </span><span class="s1">&#39;svnserve --version&#39;</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">version</span><span class="p">.</span><span class="w"></span>

<span class="n">Valid</span><span class="w"> </span><span class="nl">options</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span><span class="n">d</span><span class="w"> </span><span class="o">[</span><span class="n">--daemon</span><span class="o">]</span><span class="w">            </span><span class="err">:</span><span class="w"> </span><span class="n">后台模式</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="o">[</span><span class="n">--inetd</span><span class="o">]</span><span class="w">             </span><span class="err">:</span><span class="w"> </span><span class="n">inetd</span><span class="w"> </span><span class="n">模式</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="o">[</span><span class="n">--tunnel</span><span class="o">]</span><span class="w">            </span><span class="err">:</span><span class="w"> </span><span class="n">隧道模式</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span><span class="n">X</span><span class="w"> </span><span class="o">[</span><span class="n">--listen-once</span><span class="o">]</span><span class="w">       </span><span class="err">:</span><span class="w"> </span><span class="n">监听一次方式</span><span class="p">(</span><span class="n">调试用</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="o">[</span><span class="n">--root</span><span class="o">]</span><span class="w"> </span><span class="n">ARG</span><span class="w">          </span><span class="err">:</span><span class="w"> </span><span class="n">服务的根目录</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span><span class="n">R</span><span class="w"> </span><span class="o">[</span><span class="n">--read-only</span><span class="o">]</span><span class="w">         </span><span class="err">:</span><span class="w"> </span><span class="n">强制只读</span><span class="err">；</span><span class="n">覆盖版本库配置文件</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">config</span><span class="o">-</span><span class="k">file</span><span class="w"> </span><span class="n">ARG</span><span class="w">        </span><span class="err">:</span><span class="w"> </span><span class="n">从文件</span><span class="w"> </span><span class="n">ARG</span><span class="w"> </span><span class="n">读取配置</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">listen</span><span class="o">-</span><span class="n">port</span><span class="w"> </span><span class="n">ARG</span><span class="w">        </span><span class="err">:</span><span class="w"> </span><span class="n">listen</span><span class="w"> </span><span class="n">port</span><span class="p">.</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mf">3690.</span><span class="w"></span>
<span class="w">                             </span><span class="o">[</span><span class="n">mode: daemon, listen-once</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">listen</span><span class="o">-</span><span class="k">host</span><span class="w"> </span><span class="n">ARG</span><span class="w">        </span><span class="err">:</span><span class="w"> </span><span class="n">listen</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">address</span><span class="w"></span>
<span class="w">                             </span><span class="k">By</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">svnserve</span><span class="w"> </span><span class="n">listens</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="ow">all</span><span class="w"> </span><span class="n">addresses</span><span class="p">.</span><span class="w"></span>
<span class="w">                             </span><span class="o">[</span><span class="n">mode: daemon, listen-once</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span><span class="mi">6</span><span class="w"> </span><span class="o">[</span><span class="n">--prefer-ipv6</span><span class="o">]</span><span class="w">       </span><span class="err">:</span><span class="w"> </span><span class="n">在使用主机名称监听时</span><span class="err">，</span><span class="n">首选</span><span class="w"> </span><span class="n">IPv6</span><span class="w"></span>
<span class="w">                             </span><span class="o">[</span><span class="n">默认首选 IPv4。不支持在守护进程模式中同时使用 IPv4</span>
<span class="n">                             和 IPv6。如果需要，请使用 inetd 模式或隧道模式。</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="o">[</span><span class="n">--compression</span><span class="o">]</span><span class="w"> </span><span class="n">ARG</span><span class="w">   </span><span class="err">:</span><span class="w"> </span><span class="n">用于网络传输的压缩级别</span><span class="w"></span>
<span class="w">                             </span><span class="o">[</span><span class="n">0 .. 不压缩, 5 .. 默认,</span>
<span class="n">                              9 .. 最大压缩</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span><span class="n">M</span><span class="w"> </span><span class="o">[</span><span class="n">--memory-cache-size</span><span class="o">]</span><span class="w"> </span><span class="n">ARG</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="k">size</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extra</span><span class="w"> </span><span class="ow">in</span><span class="o">-</span><span class="n">memory</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">MB</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">to</span><span class="w"></span>
<span class="w">                             </span><span class="n">minimize</span><span class="w"> </span><span class="n">redundant</span><span class="w"> </span><span class="n">operations</span><span class="p">.</span><span class="w"></span>
<span class="w">                             </span><span class="k">Default</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mf">16.</span><span class="w"></span>
<span class="w">                             </span><span class="mi">0</span><span class="w"> </span><span class="n">switches</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">dynamically</span><span class="w"> </span><span class="n">sized</span><span class="w"> </span><span class="n">caches</span><span class="p">.</span><span class="w"></span>
<span class="w">                             </span><span class="o">[</span><span class="n">used for FSFS and FSX repositories only</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">cache</span><span class="o">-</span><span class="n">txdeltas</span><span class="w"> </span><span class="n">ARG</span><span class="w">     </span><span class="err">:</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">caching</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">deltas</span><span class="w"> </span><span class="ow">between</span><span class="w"> </span><span class="n">older</span><span class="w"></span>
<span class="w">                             </span><span class="n">revisions</span><span class="p">.</span><span class="w"></span>
<span class="w">                             </span><span class="k">Default</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">yes</span><span class="p">.</span><span class="w"></span>
<span class="w">                             </span><span class="o">[</span><span class="n">used for FSFS and FSX repositories only</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">cache</span><span class="o">-</span><span class="n">fulltexts</span><span class="w"> </span><span class="n">ARG</span><span class="w">    </span><span class="err">:</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">caching</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="n">contents</span><span class="w"></span>
<span class="w">                             </span><span class="k">Default</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">yes</span><span class="p">.</span><span class="w"></span>
<span class="w">                             </span><span class="o">[</span><span class="n">used for FSFS and FSX repositories only</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">cache</span><span class="o">-</span><span class="n">revprops</span><span class="w"> </span><span class="n">ARG</span><span class="w">     </span><span class="err">:</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">caching</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">revision</span><span class="w"> </span><span class="n">properties</span><span class="p">.</span><span class="w"></span>
<span class="w">                             </span><span class="n">Consult</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">documentation</span><span class="w"> </span><span class="k">before</span><span class="w"> </span><span class="n">activating</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="w"></span>
<span class="w">                             </span><span class="k">Default</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">no</span><span class="p">.</span><span class="w"></span>
<span class="w">                             </span><span class="o">[</span><span class="n">used for FSFS and FSX repositories only</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">client</span><span class="o">-</span><span class="n">speed</span><span class="w"> </span><span class="n">ARG</span><span class="w">       </span><span class="err">:</span><span class="w"> </span><span class="n">Optimize</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">handling</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">assumption</span><span class="w"></span>
<span class="w">                             </span><span class="n">that</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="n">connected</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">bitrate</span><span class="w"> </span><span class="k">of</span><span class="w"></span>
<span class="w">                             </span><span class="n">ARG</span><span class="w"> </span><span class="n">Mbit</span><span class="o">/</span><span class="n">s</span><span class="p">.</span><span class="w"></span>
<span class="w">                             </span><span class="k">Default</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">(</span><span class="n">optimizations</span><span class="w"> </span><span class="n">disabled</span><span class="p">).</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">block</span><span class="o">-</span><span class="k">read</span><span class="w"> </span><span class="n">ARG</span><span class="w">         </span><span class="err">:</span><span class="w"> </span><span class="nf">Parse</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="ow">all</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="k">found</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="n">instead</span><span class="w"></span>
<span class="w">                             </span><span class="k">of</span><span class="w"> </span><span class="n">just</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">requested</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="w"></span>
<span class="w">                             </span><span class="k">Default</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">no</span><span class="p">.</span><span class="w"></span>
<span class="w">                             </span><span class="o">[</span><span class="n">used for FSFS repositories in 1.9 format only</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span><span class="n">T</span><span class="w"> </span><span class="o">[</span><span class="n">--threads</span><span class="o">]</span><span class="w">           </span><span class="err">:</span><span class="w"> </span><span class="n">使用线程代替进程</span><span class="w"> </span><span class="o">[</span><span class="n">方式: daemon</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="nf">min</span><span class="o">-</span><span class="n">threads</span><span class="w"> </span><span class="n">ARG</span><span class="w">        </span><span class="err">:</span><span class="w"> </span><span class="n">Minimum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">threads</span><span class="p">,</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">idle</span><span class="p">.</span><span class="w"></span>
<span class="w">                             </span><span class="n">Capped</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nf">max</span><span class="o">-</span><span class="n">threads</span><span class="p">;</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mf">0.</span><span class="w"></span>
<span class="w">                             </span><span class="k">Default</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mf">1.</span><span class="w"></span>
<span class="w">                             </span><span class="o">[</span><span class="n">used only with --threads</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="nf">max</span><span class="o">-</span><span class="n">threads</span><span class="w"> </span><span class="n">ARG</span><span class="w">        </span><span class="err">:</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">threads</span><span class="p">,</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">there</span><span class="w"></span>
<span class="w">                             </span><span class="k">are</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">connections</span><span class="p">.</span><span class="w">  </span><span class="n">Minimum</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mf">1.</span><span class="w"></span>
<span class="w">                             </span><span class="k">Default</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mf">256.</span><span class="w"></span>
<span class="w">                             </span><span class="o">[</span><span class="n">used only with --threads</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">foreground</span><span class="w">             </span><span class="err">:</span><span class="w"> </span><span class="n">在前台运行</span><span class="p">(</span><span class="n">调试用</span><span class="p">)</span><span class="w"></span>
<span class="w">                             </span><span class="o">[</span><span class="n">方式: daemon</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">single</span><span class="o">-</span><span class="n">thread</span><span class="w">          </span><span class="err">:</span><span class="w"> </span><span class="n">handle</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="k">connection</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">time</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">parent</span><span class="w"></span>
<span class="w">                             </span><span class="n">process</span><span class="w"> </span><span class="p">(</span><span class="n">useful</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">debugging</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="nf">log</span><span class="o">-</span><span class="k">file</span><span class="w"> </span><span class="n">ARG</span><span class="w">           </span><span class="err">:</span><span class="w"> </span><span class="n">svnserve</span><span class="w"> </span><span class="n">日志文件</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">pid</span><span class="o">-</span><span class="k">file</span><span class="w"> </span><span class="n">ARG</span><span class="w">           </span><span class="err">:</span><span class="w"> </span><span class="n">写进程</span><span class="w"> </span><span class="n">PID</span><span class="w"> </span><span class="n">到文件</span><span class="w"> </span><span class="n">ARG</span><span class="w"></span>
<span class="w">                             </span><span class="o">[</span><span class="n">方式: daemon, listen-once</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">tunnel</span><span class="o">-</span><span class="k">user</span><span class="w"> </span><span class="n">ARG</span><span class="w">        </span><span class="err">:</span><span class="w"> </span><span class="n">隧道用户名</span><span class="p">(</span><span class="n">默认是当前UID对应的用户名</span><span class="p">)</span><span class="w"></span>
<span class="w">                             </span><span class="o">[</span><span class="n">方式: tunnel</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span><span class="n">h</span><span class="w"> </span><span class="o">[</span><span class="n">--help</span><span class="o">]</span><span class="w">              </span><span class="err">:</span><span class="w"> </span><span class="n">显示本帮助</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">virtual</span><span class="o">-</span><span class="k">host</span><span class="w">           </span><span class="err">:</span><span class="w"> </span><span class="n">virtual</span><span class="w"> </span><span class="k">host</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="p">(</span><span class="n">look</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">repo</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">directory</span><span class="w"></span>
<span class="w">                             </span><span class="k">of</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="n">hostname</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">version</span><span class="w">                </span><span class="err">:</span><span class="w"> </span><span class="n">显示程序版本信息</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span><span class="n">q</span><span class="w"> </span><span class="o">[</span><span class="n">--quiet</span><span class="o">]</span><span class="w">             </span><span class="err">:</span><span class="w"> </span><span class="n">在标准错误输出不显示进度</span><span class="w"> </span><span class="p">(</span><span class="n">仅错误</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

<p>指定svn的数据存储路径</p>
<div class="codehilite"><pre><span></span><code>mkdir -p /home/poo/svn/data
</code></pre></div>

<p>指定svn的配置文件信息路径</p>
<div class="codehilite"><pre><span></span><code>mkdir -p /home/poo/svn/passwd
</code></pre></div>

<p>启动svn服务</p>
<div class="codehilite"><pre><span></span><code>svnserve -d -r /home/poo/svn/data
</code></pre></div>

<h4 id="svn_1">检测svn服务是否正常启动</h4>
<p>第一通过进程检测</p>
<div class="codehilite"><pre><span></span><code><span class="n">root</span><span class="nv">@ubuntu</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="n">ps</span><span class="w"> </span><span class="o">-</span><span class="n">ef</span><span class="o">|</span><span class="n">grep</span><span class="w"> </span><span class="n">svn</span><span class="w"></span>
<span class="n">root</span><span class="w">        </span><span class="mi">76</span><span class="w">     </span><span class="mi">1</span><span class="w">  </span><span class="mi">0</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">15</span><span class="w"> </span><span class="vm">?</span><span class="w">        </span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="w"> </span><span class="n">svnserve</span><span class="w"> </span><span class="o">-</span><span class="n">d</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">poo</span><span class="o">/</span><span class="n">svn</span><span class="o">/</span><span class="k">data</span><span class="o">/</span><span class="w"></span>
<span class="n">root</span><span class="w">        </span><span class="mi">78</span><span class="w">    </span><span class="mi">52</span><span class="w">  </span><span class="mi">0</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">15</span><span class="w"> </span><span class="n">tty1</span><span class="w">     </span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="err">:</span><span class="mi">00</span><span class="w"> </span><span class="n">grep</span><span class="w"> </span><span class="c1">--color=auto svn</span>
</code></pre></div>

<p>第二通过端口3690检测</p>
<div class="codehilite"><pre><span></span><code>netstat -lntup | grep 3690
</code></pre></div>

<p>第三通过文件检测</p>
<div class="codehilite"><pre><span></span><code>lsof -i :3690
</code></pre></div>

<h4 id="svnadminsvn">使用svnadmin建立svn项目版本库</h4>
<p>查看创建项目版本库命令</p>
<div class="codehilite"><pre><span></span><code>svnadmin --help
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">root</span><span class="err">@</span><span class="n">ubuntu</span><span class="p">:</span><span class="o">~</span><span class="c1"># svnadmin --help</span>
<span class="n">general</span> <span class="n">usage</span><span class="p">:</span> <span class="n">svnadmin</span> <span class="n">SUBCOMMAND</span> <span class="n">REPOS_PATH</span>  <span class="p">[</span><span class="n">ARGS</span> <span class="o">&amp;</span> <span class="n">OPTIONS</span> <span class="o">...</span><span class="p">]</span>
<span class="n">Subversion</span> <span class="n">repository</span> <span class="n">administration</span> <span class="k">tool</span><span class="o">.</span>
<span class="n">Type</span> <span class="s1">&#39;svnadmin help &lt;subcommand&gt;&#39;</span> <span class="k">for</span> <span class="n">help</span> <span class="n">on</span> <span class="n">a</span> <span class="n">specific</span> <span class="n">subcommand</span><span class="o">.</span>
<span class="n">Type</span> <span class="s1">&#39;svnadmin --version&#39;</span> <span class="n">to</span> <span class="n">see</span> <span class="n">the</span> <span class="n">program</span> <span class="n">version</span> <span class="ow">and</span> <span class="n">FS</span> <span class="n">modules</span><span class="o">.</span>

<span class="n">Available</span> <span class="n">subcommands</span><span class="p">:</span>
   <span class="n">crashtest</span>
   <span class="n">create</span>
   <span class="n">delrevprop</span>
   <span class="n">deltify</span>
   <span class="n">dump</span>
   <span class="n">freeze</span>
   <span class="n">help</span> <span class="p">(</span><span class="err">?</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
   <span class="n">hotcopy</span>
   <span class="n">info</span>
   <span class="n">list</span><span class="o">-</span><span class="n">dblogs</span>
   <span class="n">list</span><span class="o">-</span><span class="n">unused</span><span class="o">-</span><span class="n">dblogs</span>
   <span class="nb">load</span>
   <span class="n">lock</span>
   <span class="n">lslocks</span>
   <span class="n">lstxns</span>
   <span class="n">pack</span>
   <span class="n">recover</span>
   <span class="n">rmlocks</span>
   <span class="n">rmtxns</span>
   <span class="n">setlog</span>
   <span class="n">setrevprop</span>
   <span class="n">setuuid</span>
   <span class="n">unlock</span>
   <span class="n">upgrade</span>
   <span class="n">verify</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code>svnadmin help create
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">root</span><span class="nv">@ubuntu</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="n">svnadmin</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="k">create</span><span class="w"></span>
<span class="k">create</span><span class="err">:</span><span class="w"> </span><span class="nl">用法</span><span class="p">:</span><span class="w"> </span><span class="n">svnadmin</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="n">REPOS_PATH</span><span class="w"></span>

<span class="n">在</span><span class="w"> </span><span class="n">REPOS_PATH</span><span class="w"> </span><span class="n">创建一个新的空版本库</span><span class="err">。</span><span class="w"></span>

<span class="nl">有效选项</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">bdb</span><span class="o">-</span><span class="n">txn</span><span class="o">-</span><span class="n">nosync</span><span class="w">         </span><span class="err">:</span><span class="w"> </span><span class="n">在提交事务时禁用fsync</span><span class="w"> </span><span class="o">[</span><span class="n">BDB</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">bdb</span><span class="o">-</span><span class="nf">log</span><span class="o">-</span><span class="n">keep</span><span class="w">           </span><span class="err">:</span><span class="w"> </span><span class="n">禁用自动删除日志文件</span><span class="w"> </span><span class="o">[</span><span class="n">BDB</span><span class="o">]</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">config</span><span class="o">-</span><span class="n">dir</span><span class="w"> </span><span class="n">ARG</span><span class="w">         </span><span class="err">:</span><span class="w"> </span><span class="n">从目录</span><span class="w"> </span><span class="n">ARG</span><span class="w"> </span><span class="n">读取用户配置文件</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">fs</span><span class="o">-</span><span class="n">type</span><span class="w"> </span><span class="n">ARG</span><span class="w">            </span><span class="err">:</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nl">repository</span><span class="p">:</span><span class="w"></span>
<span class="w">                             </span><span class="s1">&#39;fsfs&#39;</span><span class="w"> </span><span class="p">(</span><span class="k">default</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;bdb&#39;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;fsx&#39;</span><span class="w"></span>
<span class="w">                             </span><span class="nl">CAUTION</span><span class="p">:</span><span class="w"> </span><span class="n">FSX</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">EXPERIMENTAL</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="k">only</span><span class="err">!</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">compatible</span><span class="o">-</span><span class="n">version</span><span class="w"> </span><span class="n">ARG</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="nf">format</span><span class="w"> </span><span class="n">compatible</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">Subversion</span><span class="w"></span>
<span class="w">                             </span><span class="n">version</span><span class="w"> </span><span class="n">ARG</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;1.5.5&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;1.7&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">etc</span><span class="p">.)</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">pre</span><span class="o">-</span><span class="mf">1.4</span><span class="o">-</span><span class="n">compatible</span><span class="w">     </span><span class="err">:</span><span class="w"> </span><span class="n">已经淘汰</span><span class="p">;</span><span class="w"> </span><span class="n">参见</span><span class="w"> </span><span class="o">--</span><span class="n">compatible</span><span class="o">-</span><span class="n">version</span><span class="w"></span>
<span class="w">  </span><span class="o">--</span><span class="n">pre</span><span class="o">-</span><span class="mf">1.5</span><span class="o">-</span><span class="n">compatible</span><span class="w">     </span><span class="err">:</span><span class="w"> </span><span class="n">已经淘汰</span><span class="p">;</span><span class="w"> </span><span class="n">参见</span><span class="w"> </span><span class="o">--</span><span class="n">compatible</span><span class="o">-</span><span class="n">version</span><span class="w"></span>
<span class="w">  </span><span class="c1">--pre-1.6-compatible     : 已经淘汰; 参见 --compatible-version</span>
</code></pre></div>

<p>创建testdoc版本库</p>
<div class="codehilite"><pre><span></span><code><span class="n">root</span><span class="nv">@ubuntu</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="n">svnadmin</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">poo</span><span class="o">/</span><span class="n">svn</span><span class="o">/</span><span class="k">data</span><span class="o">/</span><span class="n">testdoc</span><span class="w"></span>
<span class="n">root</span><span class="nv">@ubuntu</span><span class="err">:</span><span class="o">~</span><span class="err">#</span><span class="w"> </span><span class="n">ll</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">poo</span><span class="o">/</span><span class="n">svn</span><span class="o">/</span><span class="k">data</span><span class="o">/</span><span class="n">testdoc</span><span class="o">/</span><span class="w"></span>
<span class="n">总用量</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="mi">12</span><span class="n">月</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">26</span><span class="w"> </span><span class="n">conf</span><span class="o">/</span><span class="w"></span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">sr</span><span class="o">-</span><span class="n">x</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="mi">12</span><span class="n">月</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">26</span><span class="w"> </span><span class="n">db</span><span class="o">/</span><span class="w"></span>
<span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">root</span><span class="w">   </span><span class="mi">2</span><span class="w"> </span><span class="mi">12</span><span class="n">月</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">26</span><span class="w"> </span><span class="nf">format</span><span class="w"></span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="mi">12</span><span class="n">月</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">26</span><span class="w"> </span><span class="n">hooks</span><span class="o">/</span><span class="w"></span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="mi">12</span><span class="n">月</span><span class="w">  </span><span class="mi">9</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">26</span><span class="w"> </span><span class="n">locks</span><span class="o">/</span><span class="w"></span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="c1">--r-- 1 root root 246 12月  9 21:26 README.txt</span>
</code></pre></div>

<h4 id="testdoc">配置testdoc版本可的权限</h4>
<p>进入testdoc版本库配置目录,并备份配置文件</p>
<div class="codehilite"><pre><span></span><code>cd /home/poo/svn/data/testdoc/conf/
cp -p svnserve.conf svnserve.conf.default
</code></pre></div>

<p>进行详细配置</p>
<div class="codehilite"><pre><span></span><code>anon-access = none //禁止匿名访问
auth-access = write //认证后有读的权限
password-db = /home/poo/svn/passwd/passwd //指定密码文件
authz-db = /home/poo/svn/passwd/authz //指定权限认证文件
</code></pre></div>

<p>svnserve.conf文件general的一部分</p>
<div class="codehilite"><pre><span></span><code><span class="k">[general]</span>
<span class="c1">### The anon-access and auth-access options control access to the</span>
<span class="c1">### repository for unauthenticated (a.k.a. anonymous) users and</span>
<span class="c1">### authenticated users, respectively.</span>
<span class="c1">### Valid values are &quot;write&quot;, &quot;read&quot;, and &quot;none&quot;.</span>
<span class="c1">### Setting the value to &quot;none&quot; prohibits both reading and writing;</span>
<span class="c1">### &quot;read&quot; allows read-only access, and &quot;write&quot; allows complete</span>
<span class="c1">### read/write access to the repository.</span>
<span class="c1">### The sample settings below are the defaults and specify that anonymous</span>
<span class="c1">### users have read-only access to the repository, while authenticated</span>
<span class="c1">### users have read and write access to the repository.</span>
<span class="na">anon-access</span> <span class="o">=</span> <span class="s">none</span>
<span class="na">auth-access</span> <span class="o">=</span> <span class="s">write</span>
<span class="c1">### The password-db option controls the location of the password</span>
<span class="c1">### database file.  Unless you specify a path starting with a /,</span>
<span class="c1">### the file&#39;s location is relative to the directory containing</span>
<span class="c1">### this configuration file.</span>
<span class="c1">### If SASL is enabled (see below), this file will NOT be used.</span>
<span class="c1">### Uncomment the line below to use the default password file.</span>
<span class="na">password-db</span> <span class="o">=</span> <span class="s">/home/poo/svn/passwd/passwd</span>
<span class="c1">### The authz-db option controls the location of the authorization</span>
<span class="c1">### rules for path-based access control.  Unless you specify a path</span>
<span class="c1">### starting with a /, the file&#39;s location is relative to the</span>
<span class="c1">### directory containing this file.  The specified path may be a</span>
<span class="c1">### repository relative URL (^/) or an absolute file:// URL to a text</span>
<span class="c1">### file in a Subversion repository.  If you don&#39;t specify an authz-db,</span>
<span class="c1">### no path-based access control is done.</span>
<span class="c1">### Uncomment the line below to use the default authorization file.</span>
<span class="na">authz-db</span> <span class="o">=</span> <span class="s">/home/poo/svn/passwdauthz</span>
</code></pre></div>

<p>复制passwd和authz文件到passwd目录并修改权限</p>
<div class="codehilite"><pre><span></span><code>cp -p passwd authz /home/poo/svn/passwd/
cd /home/poo/svn/passwd/
chmod 700 authz passwd
</code></pre></div>

<h4 id="svn_2">为Svn版本库创建用户并授权访问指定项目版本库</h4>
<p>编辑passwd文件配置用户和密码</p>
<div class="codehilite"><pre><span></span><code>vi passwd 
xiaowei = 123456
shenyi = 123456
</code></pre></div>

<p>passwd文件</p>
<div class="codehilite"><pre><span></span><code><span class="err">###</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">svnserve</span><span class="p">.</span><span class="w"></span>
<span class="err">###</span><span class="w"> </span><span class="n">Its</span><span class="w"> </span><span class="nf">format</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">similar</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">svnserve</span><span class="p">.</span><span class="n">conf</span><span class="p">.</span><span class="w"> </span><span class="k">As</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"></span>
<span class="err">###</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">contains</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="k">section</span><span class="w"> </span><span class="n">labelled</span><span class="w"> </span><span class="o">[</span><span class="n">users</span><span class="o">]</span><span class="p">.</span><span class="w"></span>
<span class="err">###</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">each</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="n">follow</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">line</span><span class="p">.</span><span class="w"></span>

<span class="o">[</span><span class="n">users</span><span class="o">]</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">harry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">harryssecret</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">sally</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sallyssecret</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">等号前是用户名</span><span class="err">，</span><span class="n">后面是密码</span><span class="w"></span>
<span class="n">xiaowei</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123456</span><span class="w"></span>
<span class="n">shenyi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123456</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">测试账号</span><span class="w"></span>
<span class="n">test1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123456</span><span class="w"></span>
<span class="n">test2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123456</span><span class="w"></span>
<span class="n">test3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123456</span><span class="w"></span>
</code></pre></div>

<p>编辑authz文件配置读取权限</p>
<div class="codehilite"><pre><span></span><code><span class="k">[&lt;版本库&gt;:/项目/目录]</span>
<span class="na">@&lt;用户组名&gt;</span> <span class="o">=</span> <span class="s">&lt;权限&gt;</span>
<span class="na">&lt;用户名&gt;</span>  <span class="o">=</span> <span class="s">&lt;权限&gt;</span>
</code></pre></div>

<p>authz文件</p>
<div class="codehilite"><pre><span></span><code><span class="err">###</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="k">authorization</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">svnserve</span><span class="p">.</span><span class="w"></span>
<span class="err">###</span><span class="w"> </span><span class="n">Its</span><span class="w"> </span><span class="nf">format</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">identical</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">mod_authz_svn</span><span class="w"> </span><span class="k">authorization</span><span class="w"></span>
<span class="err">###</span><span class="w"> </span><span class="n">files</span><span class="p">.</span><span class="w"></span>
<span class="err">###</span><span class="w"> </span><span class="k">As</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="k">each</span><span class="w"> </span><span class="k">section</span><span class="w"> </span><span class="n">defines</span><span class="w"> </span><span class="n">authorizations</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">path</span><span class="w"> </span><span class="ow">and</span><span class="w"></span>
<span class="err">###</span><span class="w"> </span><span class="p">(</span><span class="n">optional</span><span class="p">)</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">section</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="w"></span>
<span class="err">###</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">authorizations</span><span class="w"> </span><span class="n">follow</span><span class="p">.</span><span class="w"> </span><span class="n">An</span><span class="w"> </span><span class="k">authorization</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">refer</span><span class="w"> </span><span class="k">to</span><span class="err">:</span><span class="w"></span>
<span class="err">###</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="k">user</span><span class="p">,</span><span class="w"></span>
<span class="err">###</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">special</span><span class="w"> </span><span class="o">[</span><span class="n">groups</span><span class="o">]</span><span class="w"> </span><span class="k">section</span><span class="p">,</span><span class="w"></span>
<span class="err">###</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="k">alias</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">special</span><span class="w"> </span><span class="o">[</span><span class="n">aliases</span><span class="o">]</span><span class="w"> </span><span class="k">section</span><span class="p">,</span><span class="w"></span>
<span class="err">###</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="ow">all</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="n">users</span><span class="p">,</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="s1">&#39;$authenticated&#39;</span><span class="w"> </span><span class="n">token</span><span class="p">,</span><span class="w"></span>
<span class="err">###</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n">anonymous</span><span class="w"> </span><span class="n">users</span><span class="p">,</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="s1">&#39;$anonymous&#39;</span><span class="w"> </span><span class="n">token</span><span class="p">,</span><span class="w"></span>
<span class="err">###</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">anyone</span><span class="p">,</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="s1">&#39;*&#39;</span><span class="w"> </span><span class="n">wildcard</span><span class="p">.</span><span class="w"></span>
<span class="err">###</span><span class="w"></span>
<span class="err">###</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">inverted</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">prefixing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">rule</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="s1">&#39;~&#39;</span><span class="p">.</span><span class="w"> </span><span class="n">Rules</span><span class="w"> </span><span class="n">can</span><span class="w"></span>
<span class="err">###</span><span class="w"> </span><span class="k">grant</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">access</span><span class="p">,</span><span class="w"> </span><span class="k">read</span><span class="o">-</span><span class="k">write</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;rw&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">access</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="k">no</span><span class="w"> </span><span class="n">access</span><span class="w"></span>
<span class="err">###</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">).</span><span class="w"></span>

<span class="o">[</span><span class="n">aliases</span><span class="o">]</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">joe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/</span><span class="n">C</span><span class="o">=</span><span class="n">XZ</span><span class="o">/</span><span class="n">ST</span><span class="o">=</span><span class="n">Dessert</span><span class="o">/</span><span class="n">L</span><span class="o">=</span><span class="n">Snake</span><span class="w"> </span><span class="n">City</span><span class="o">/</span><span class="n">O</span><span class="o">=</span><span class="n">Snake</span><span class="w"> </span><span class="n">Oil</span><span class="p">,</span><span class="w"> </span><span class="n">Ltd</span><span class="p">.</span><span class="o">/</span><span class="n">OU</span><span class="o">=</span><span class="n">Research</span><span class="w"> </span><span class="n">Institute</span><span class="o">/</span><span class="n">CN</span><span class="o">=</span><span class="n">Joe</span><span class="w"> </span><span class="n">Average</span><span class="w"></span>

<span class="o">[</span><span class="n">groups</span><span class="o">]</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">harry_and_sally</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">harry</span><span class="p">,</span><span class="n">sally</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">harry_sally_and_joe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">harry</span><span class="p">,</span><span class="n">sally</span><span class="p">,</span><span class="o">&amp;</span><span class="n">joe</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">这里可以定义组</span><span class="err">，</span><span class="n">多个用户这间用逗号隔开</span><span class="w"></span>
<span class="n">test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">test1</span><span class="p">,</span><span class="n">test2</span><span class="p">,</span><span class="n">test3</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="o">[</span><span class="n">/foo/bar</span><span class="o">]</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="n">harry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rw</span><span class="w"></span>
<span class="err">#</span><span class="w"> </span><span class="o">&amp;</span><span class="n">joe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="w"></span>

<span class="o">[</span><span class="n">testdoc:/</span><span class="o">]</span><span class="w"></span>
<span class="nv">@test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rw</span><span class="w"></span>
<span class="n">xiaowei</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rw</span><span class="w"></span>
<span class="n">shenyi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="w"></span>
</code></pre></div>

<h4 id="svn_3">重新启动svn服务进行验证</h4>
<p>杀死svn服务</p>
<div class="codehilite"><pre><span></span><code>pkill svnserve
</code></pre></div>

<p>启动svn</p>
<div class="codehilite"><pre><span></span><code>svnserve -d -r /home/poo/svn/data/
</code></pre></div>

<p>备注：修改passwd和authz文件不需要重启svn服务，而修改svnserve.conf则需要</p>
<p>最后安装客户端进行testdoc的配置是否正确</p>
<div class="codehilite"><pre><span></span><code>svn --username=xiaowei co svn://127.0.0.1/testdoc
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="c">root@ubuntu:# svn </span><span class="nb">--</span><span class="c">username=xiaowei co svn://127</span><span class="nt">.</span><span class="c">0</span><span class="nt">.</span><span class="c">0</span><span class="nt">.</span><span class="c">1/testdoc</span>
<span class="c">认证领域: </span><span class="nv">&lt;</span><span class="c">svn://127</span><span class="nt">.</span><span class="c">0</span><span class="nt">.</span><span class="c">0</span><span class="nt">.</span><span class="c">1:3690</span><span class="nv">&gt;</span><span class="c"> f36acfd9</span><span class="nb">-</span><span class="c">8e0c</span><span class="nb">-</span><span class="c">4973</span><span class="nb">-</span><span class="c">bd35</span><span class="nb">-</span><span class="c">44e75440e1c3</span>
<span class="c">“xiaowei”的密码: ******</span>


<span class="nb">-----------------------------------------------------------------------</span><span class="c"></span>
<span class="c">注意!  你的密码，对于认证域:</span>

<span class="c">   </span><span class="nv">&lt;</span><span class="c">svn://127</span><span class="nt">.</span><span class="c">0</span><span class="nt">.</span><span class="c">0</span><span class="nt">.</span><span class="c">1:3690</span><span class="nv">&gt;</span><span class="c"> f36acfd9</span><span class="nb">-</span><span class="c">8e0c</span><span class="nb">-</span><span class="c">4973</span><span class="nb">-</span><span class="c">bd35</span><span class="nb">-</span><span class="c">44e75440e1c3</span>

<span class="c">只能明文保存在磁盘上!  如果可能的话，请考虑配置你的系统，让 Subversion</span>
<span class="c">可以保存加密后的密码。请参阅文档以获得详细信息。</span>

<span class="c">你可以通过在“/root/</span><span class="nt">.</span><span class="c">subversion/servers”中设置选项“store</span><span class="nb">-</span><span class="c">plaintext</span><span class="nb">-</span><span class="c">passwords”为“yes”或“no”，</span>
<span class="c">来避免再次出现此警告。</span>
<span class="nb">-----------------------------------------------------------------------</span><span class="c"></span>
<span class="c">保存未加密的密码(yes/no)? yes</span>
<span class="c">取出版本 0。</span>
</code></pre></div></div>
    </div>
    <input class="xswitch xonoff" type="checkbox" id="nvacatalog">
    <div class="nav">
      <ul>
        
        <li><a href="https://testpoo.github.io/常用链接.html"><span><label style="color: #38b6fd"></label>&nbsp;常用链接</span></a></li>
        
        <li><a href="https://testpoo.github.io/mysql函数汇总.html"><span><label style="color: #38b6fd"></label>&nbsp;mysql函数汇总</span></a></li>
        
        <li><a href="https://testpoo.github.io/shell简介.html"><span><label style="color: #38b6fd"></label>&nbsp;shell简介</span></a></li>
        
        <li><a href="https://testpoo.github.io/Docker入门教程.html"><span><label style="color: #38b6fd"></label>&nbsp;Docker入门教程</span></a></li>
        
        <li><a href="https://testpoo.github.io/性能监控各指令详解.html"><span><label style="color: #38b6fd"></label>&nbsp;性能监控各指令详解</span></a></li>
        
        <li><a href="https://testpoo.github.io/Python进阶.html"><span><label style="color: #38b6fd"></label>&nbsp;Python进阶</span></a></li>
        
        <li><a href="https://testpoo.github.io/Git简介.html"><span><label style="color: #38b6fd"></label>&nbsp;Git简介</span></a></li>
        
        <li><a href="https://testpoo.github.io/Python正则表达式.html"><span><label style="color: #38b6fd"></label>&nbsp;Python正则表达式</span></a></li>
        
        <li><a href="https://testpoo.github.io/nose简介.html"><span><label style="color: #38b6fd"></label>&nbsp;nose简介</span></a></li>
        
        <li><a href="https://testpoo.github.io/debian+xfce安装过程.html"><span><label style="color: #38b6fd"></label>&nbsp;debian+xfce安装过程</span></a></li>
        
        <li><a href="https://testpoo.github.io/Python自动化之unittest.html"><span><label style="color: #38b6fd"></label>&nbsp;Python自动化之unittest</span></a></li>
        
        <li><a href="https://testpoo.github.io/debian+gnome安装过程.html"><span><label style="color: #38b6fd"></label>&nbsp;debian+gnome安装过程</span></a></li>
        
        <li><a href="https://testpoo.github.io/debian+i3安装过程.html"><span><label style="color: #38b6fd"></label>&nbsp;debian+i3安装过程</span></a></li>
        
        <li><a href="https://testpoo.github.io/mysql的安装.html"><span><label style="color: #38b6fd"></label>&nbsp;mysql的安装</span></a></li>
        
        <li><a href="https://testpoo.github.io/分分种学会python3.html"><span><label style="color: #38b6fd"></label>&nbsp;分分种学会python3</span></a></li>
        
        <li><a href="https://testpoo.github.io/Markdown笔记.html"><span><label style="color: #38b6fd"></label>&nbsp;Markdown笔记</span></a></li>
        
        <li><a href="https://testpoo.github.io/SQLite基本操作.html"><span><label style="color: #38b6fd"></label>&nbsp;SQLite基本操作</span></a></li>
        
        <li><a href="https://testpoo.github.io/Linux下SVN服务器的搭建.html"><span><label style="color: #38b6fd"></label>&nbsp;Linux下SVN服务器的搭建</span></a></li>
        
        <li><a href="https://testpoo.github.io/Debain必备软件.html"><span><label style="color: #38b6fd"></label>&nbsp;Debain必备软件</span></a></li>
        
        <li><a href="https://testpoo.github.io/mysql笔记.html"><span><label style="color: #38b6fd"></label>&nbsp;mysql笔记</span></a></li>
        
        <li><a href="https://testpoo.github.io/python标准异常.html"><span><label style="color: #38b6fd"></label>&nbsp;python标准异常</span></a></li>
        
        <li><a href="https://testpoo.github.io/svn命令全解.html"><span><label style="color: #38b6fd"></label>&nbsp;svn命令全解</span></a></li>
        
        <li><a href="https://testpoo.github.io/debian命令apt和dpkg用法.html"><span><label style="color: #38b6fd"></label>&nbsp;debian命令apt和dpkg用法</span></a></li>
        
        <li><a href="https://testpoo.github.io/关于我.html"><span><label style="color: #38b6fd"></label>&nbsp;关于我</span></a></li>
        
      </ul>
    </div>
  </body>

  </html>